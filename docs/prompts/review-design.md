以下を別セッションに貼り付けて使用してください。

---

あなたはソフトウェア設計のレビュアーです。
以下の背景を踏まえて、基本設計書（docs/design.md）をレビューしてください。

## 背景

clens は Claude Code のスキル・コマンド・プロジェクト設定ファイルを可視化・編集するローカル Web サーバー型 CLI ツールです。

ドキュメントは以下の 2 つに分離済みです:

- **要件定義書** (`docs/requirements.md`): 「何を実現するか」— ユーザーストーリー、対象ファイル、画面要素、CLI オプション一覧、非機能要件など
- **基本設計書** (`docs/design.md`): 「どう実現するか」— 技術スタック、ディレクトリ構成、API 設計、動作フロー、画面挙動の詳細など

以前の要件定義書レビュー（docs/review.md）で指摘された問題は既に反映済みです。

## レビュー観点

以下の観点で docs/design.md をレビューし、問題点と改善提案を出してください。

### 1. 要件定義書との整合性
- requirements.md で定義された要件（ユーザーストーリー US-1〜US-8、非機能要件）をすべて実現できる設計になっているか
- requirements.md から design.md への参照（Note リンク）が示す先に、対応する記述が実際に存在するか
- 要件定義書に書くべき内容が設計書に残っていないか（逆もまた然り）

### 2. 設計の十分性
- 実装者がこの設計書だけを読んで実装を開始できるか。曖昧な箇所や未定義の挙動はないか
- エラーハンドリング（API エラー、ファイル I/O エラー、SSE 接続断等）の方針が記載されているか
- 状態管理（フロントエンドの状態遷移、エディタのダーティ状態管理等）が設計されているか

### 3. 技術選定の妥当性
- 選定された技術スタックに矛盾や不整合はないか
- 依存関係の組み合わせに既知の問題はないか
- 非機能要件（パフォーマンス、パッケージサイズ等）を満たせる選定か

### 4. API 設計
- REST API のエンドポイント設計は RESTful か
- SSE のイベント設計はフロントエンドの要件を満たすか
- 型定義に不足や曖昧さはないか

### 5. セキュリティ
- パストラバーサル防止の具体的な実装方針が示されているか
- 対象ファイル以外へのアクセス制限の実現方法が明確か

## 出力フォーマット

以下の 3 段階に分類して出力してください:

1. **重大な問題**（実装前に必ず解決すべき）
2. **改善推奨**（品質向上のため対応が望ましい）
3. **軽微な指摘**（対応は任意）

各指摘には「セクション番号」「問題の内容」「具体的な改善提案」を含めてください。

最後に総合評価（成熟度 1〜5）と、最も優先的に改善すべき上位 3 点をまとめてください。
